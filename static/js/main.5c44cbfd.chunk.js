(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{122:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),i=a.n(r),s=a(23),o=a(161),l=a(31),j=a(46),u=a(55),d=a(22),b=a.n(d),O=a(47),h=a(48),m=a(16),x=a(79),p=a.n(x),f=function(){function e(){Object(l.a)(this,e)}return Object(h.a)(e,null,[{key:"makeGet",value:function(){var e=Object(O.a)(b.a.mark((function e(t){var a,n,c=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2&&void 0!==c[2]?c[2]:{},e.abrupt("return",p.a.get("".concat(this.APP_HOST).concat(t),Object(m.a)(Object(m.a)({},n),{},{params:Object(m.a)({APPID:this.APPID},a)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();f.APPID="75f972b80e26f14fe6c920aa6a85ad57",f.APP_HOST="https://api.openweathermap.org/data/2.5";var v=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,null,[{key:"get",value:function(){var e=Object(O.a)(b.a.mark((function e(){var t,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",this.makeGet(this.GET_COLLECTION,t).then((function(e){var t=e.data;return Promise.resolve({response:t})})).catch((function(e){return Promise.resolve({error:e})})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(f);v.GET_COLLECTION="/";var g=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return a}(v);g.GET_COLLECTION="/forecast";var y=a(85),S=a(162),T=a(151),w=function(e){var t=[],a={};return e.forEach((function(n,c){var r,i=Object(S.a)(new Date(n.dt_txt),"yyyy-MM-dd");Object(T.a)(new Date(a.dateTime),new Date(i))?a=Object(m.a)(Object(m.a)({},a),{},{data:[].concat(Object(y.a)(null===(r=a)||void 0===r?void 0:r.data),[Object(m.a)({},n)])}):(Object.keys(a).length>0&&t.push(a),a={dateTime:i,data:[Object(m.a)({},n)]});c===e.length-1&&t.push(a)})),t},N=function(e,t){return"C"===t?"".concat((.555555556*(e-32)).toFixed(2),"\xb0C"):"".concat(e.toFixed(2),"\xb0F")},C=function(e,t){return"C"===t?.555555556*(e-32):e},E="GET_WEATHER",k="WEATHER_LIST_SUCCESS",F="WEATHER_LIST_ERROR",_=a(155),I=a(29),L=a(158),P=a(159),H=a(152),D=a(166),M=a(167),z=a(165),A=a(156),R=a(164),G=a(157),U=a(153),W=a(154),B=a(125),J=a(163),q=a.p+"static/media/munich.ac263ce5.jpg",Y=a(4),K=Object(H.a)({root:{position:"relative",height:"200px"},blur:{background:"url(".concat(q,") no-repeat"),backgroundSize:"cover",backgroundPosition:"center",position:"absolute",filter:"blur(8px)",width:"100%",height:"100%",zIndex:0},overlay:{position:"absolute",width:"200px",height:"100%",zIndex:1},title:{fontSize:18},desc:{marginBottom:14}});function Q(e){var t=e.name,a=e.sunrise,n=e.sunset,c=K(),r=function(e){return Object(S.a)(new Date(1e3*e),"HH:mm:ss")};return Object(Y.jsxs)(U.a,{boxShadow:0,className:c.root,variant:"elevation",children:[Object(Y.jsx)("div",{className:c.blur}),Object(Y.jsxs)(W.a,{className:c.overlay,children:[Object(Y.jsx)(B.a,{variant:"h2",component:"h2",children:t}),Object(Y.jsxs)(_.a,{container:!0,children:[Object(Y.jsxs)(J.a,{mr:4,children:[Object(Y.jsx)(B.a,{className:c.title,variant:"h5",component:"h2",children:"SUNRISE"}),Object(Y.jsx)(B.a,{className:c.desc,color:"textSecondary",children:r(a)})]}),Object(Y.jsxs)(J.a,{children:[Object(Y.jsx)(B.a,{className:c.title,variant:"h5",component:"h2",children:"SUNSET"}),Object(Y.jsx)(B.a,{className:c.desc,color:"textSecondary",children:r(n)})]})]})]})]})}var V=Object(H.a)({root:{position:"relative",cursor:"pointer"},title:{fontSize:16,marginTop:25},desc:{fontSize:16}});function X(e){var t,a=e.item,n=e.unit,c=e.onClick,r=a.dateTime,i=a.aveTemp,s=a.maxTemp,o=a.minTemp,l=a.aveHumidity,j=a.aveFL,u=V();return Object(Y.jsx)(U.a,{onClick:function(){c(a)},boxShadow:0,className:u.root,variant:"elevation",children:Object(Y.jsxs)(W.a,{children:[Object(Y.jsx)(B.a,{variant:"h4",component:"h4",children:(t=r,Object(S.a)(new Date(t),"dd MMM y"))}),Object(Y.jsxs)(B.a,{variant:"h5",component:"h4",children:[N(i,n),Object(Y.jsxs)(B.a,{className:u.desc,color:"textSecondary",children:["Feels Like ",N(j,n)]})]}),Object(Y.jsxs)(_.a,{container:!0,children:[Object(Y.jsxs)(J.a,{mr:5,children:[Object(Y.jsx)(B.a,{className:u.title,children:"HIGH"}),Object(Y.jsx)(B.a,{className:u.desc,color:"textSecondary",children:N(s,n)})]}),Object(Y.jsxs)(J.a,{mr:5,children:[Object(Y.jsx)(B.a,{className:u.title,children:"LOW"}),Object(Y.jsx)(B.a,{className:u.desc,color:"textSecondary",children:N(o,n)})]}),Object(Y.jsxs)(J.a,{children:[Object(Y.jsx)(B.a,{className:u.title,children:"HUMIDITY"}),Object(Y.jsx)(B.a,{className:u.desc,color:"textSecondary",children:"".concat(l.toFixed(2),"%")})]})]})]})})}var Z=a(124),$=a(37),ee=a(10);function te(e){var t=e.date,a=e.data,n=e.unit,c=function(e){return Object(S.a)(new Date(e),"HH:mm")};return Object(Y.jsx)(Z.a,{"data-testid":"chart",children:Object(Y.jsxs)($.c,{data:a.map((function(e){return{time:"".concat(c(e.dt_txt)," | ").concat(N(e.main.temp,n)),population:C(e.main.temp,n)}})),children:[Object(Y.jsx)($.a,{}),Object(Y.jsx)($.e,{max:8}),Object(Y.jsx)($.b,{valueField:"population",argumentField:"time"}),Object(Y.jsx)($.d,{text:function(e){return Object(S.a)(new Date(e),"dd MMM y")}(t)}),Object(Y.jsx)(ee.a,{})]})})}var ae=Object(H.a)({right:{float:"right",marginRight:"-17px"},left:{marginLeft:"-17px"}});function ne(){var e=Object(s.c)((function(e){return e.weather})),t=e.city,a=e.list,c=Object(n.useState)("F"),r=Object(I.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(null),j=Object(I.a)(l,2),u=j[0],d=j[1],b=Object(n.useState)(1),O=Object(I.a)(b,2),h=O[0],m=O[1],x=ae();return Object(n.useEffect)((function(){a.length>0&&d(a[0])}),[a]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(_.a,{item:!0,xs:12,children:Object(Y.jsx)(Q,{name:t.name,sunrise:t.sunrise,sunset:t.sunset})}),Object(Y.jsx)(_.a,{item:!0,xs:12,children:Object(Y.jsxs)(D.a,{component:"fieldset",children:[Object(Y.jsx)(M.a,{component:"legend",children:"Unit"}),Object(Y.jsxs)(z.a,{row:!0,value:i,name:"unit",onChange:function(e){o(e.target.value)},children:[Object(Y.jsx)(A.a,{value:"F",control:Object(Y.jsx)(R.a,{color:"default"}),label:"Fahrenheit"}),Object(Y.jsx)(A.a,{value:"C",control:Object(Y.jsx)(R.a,{color:"default"}),label:"Celsius"})]})]})}),Object(Y.jsxs)(_.a,{item:!0,xs:12,children:[1!==h&&Object(Y.jsx)(G.a,{onClick:function(){m(h-1)},className:x.left,color:"primary",children:Object(Y.jsx)(L.a,{fontSize:"large"})}),a.length/3>h&&Object(Y.jsx)(G.a,{onClick:function(){m(h+1)},className:x.right,color:"primary",children:Object(Y.jsx)(P.a,{fontSize:"large"})})]}),a.slice(3*(h-1),3*(h-1)+3).map((function(e){return Object(Y.jsx)(_.a,{item:!0,xs:12,sm:6,md:6,lg:4,children:Object(Y.jsx)(X,{onClick:d,unit:i,item:e})})})),u&&Object(Y.jsx)(_.a,{item:!0,xs:12,children:Object(Y.jsx)(te,{data:u.data,date:u.dateTime,unit:i})})]})}function ce(){return Object(s.c)((function(e){return e.weather})).loading?Object(Y.jsx)(se,{}):Object(Y.jsx)(_.a,{container:!0,spacing:3,children:Object(Y.jsx)(ne,{})})}var re=a(160),ie=Object(H.a)((function(e){return{root:{display:"flex",height:"100vh"},loading:{margin:"auto"}}}));function se(){var e=ie();return Object(Y.jsx)("div",{"data-testid":"loading",className:e.root,children:Object(Y.jsx)(re.a,{className:e.loading})})}function oe(){var e=Object(s.b)(),t=function(){e({type:E}),g.get({q:"Munich,de",cnt:40,units:"imperial"}).then((function(t){var a,n,c,r,i=t.error,s=t.response;if(i)e(function(e){return{type:F,payload:{error:e}}}(null===(a=i.response)||void 0===a?void 0:a.statusText));else if(s){var o=(r=s.list,w(r).map((function(e){return Object(m.a)(Object(m.a)({},e),function(e){var t=e.length,a=0,n=0,c=0,r=0,i=0;return e.forEach((function(e){a+=e.main.temp,(0===n||n>e.main.temp_min)&&(n=e.main.temp_min),c<e.main.temp_max&&(c=e.main.temp_max),r+=e.main.humidity,i+=e.main.feels_like})),{aveTemp:a/t,minTemp:n,maxTemp:c,aveHumidity:r/t,aveFL:i/t}}(e.data))})));e((n=o,c=s.city,{type:k,payload:{items:n,city:c}}))}}))};return Object(n.useEffect)((function(){t()}),[]),Object(Y.jsx)(o.a,{spacing:3,maxWidth:"lg",children:Object(Y.jsx)(ce,{})})}var le=a(56),je={loading:!0,list:null,city:null,error:null};var ue=Object(le.a)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case k:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,list:t.payload.items,city:t.payload.city});case F:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.payload.error});default:return Object(m.a)({},e)}}}),de=Object(le.b)(ue,{});var be=function(){return Object(Y.jsx)(c.a.StrictMode,{children:Object(Y.jsx)(s.a,{store:de,children:Object(Y.jsx)(oe,{})})})},Oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,170)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};a(122);i.a.render(Object(Y.jsx)(be,{}),document.getElementById("root")),Oe()}},[[123,1,2]]]);
//# sourceMappingURL=main.5c44cbfd.chunk.js.map